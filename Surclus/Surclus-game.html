<!DOCTYPE html>
<head>
    <title>Surclus</title>
    <link rel="icon" href="\IMG\Logo.png">
    <link rel="stylesheet"  href="Surclus-style.css">
</head>
<body onload="draw()">

    <canvas id="canvas" width="2000px" ></canvas>
    <script>
        var bx  = 170;
        var by = 530;
        const move = ['left','right','up','down'];
        function Random(min, max) {
            return Math.random() * (max - min) + min;
        }
        function draw() {
            const canvas = document.getElementById("canvas");
            if (canvas.getContext) {
                const ctx = canvas.getContext("2d");

                canvas.setAttribute('width',window.innerWidth-15);
                canvas.setAttribute('height',window.innerHeight-19);

                ctx.fillStyle = "rgba(255, 255, 1)";
                ctx.fillRect(0, 0, window.innerWidth-15,window.innerHeight-19);

            
                //Blocks
                ctx.fillStyle = "rgb(30, 30, 30)";
                ctx.fillRect(130, 30, 50, 50);
        
                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(880, 20, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(1270, 80, 50, 50);
                
                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(590, 140, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(900, 210, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(500, 250, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(800, 300, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(1710, 360, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(180, 380, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(630, 40, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(650, 540, 50, 50);

                ctx.fillStyle = "rgba(255, 0, 30, 1)";
                ctx.fillRect(150, 510, 40, 40);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(580, 650, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(430, 200, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(1400, 600, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(1300, 500, 50, 50);

                ctx.fillStyle = "rgba(30, 30, 30, 1)";
                ctx.fillRect(1000, 570, 50, 50);

                //End
                ctx.beginPath();
                ctx.arc(bx,by, 10, 0, Math.PI * 2);
                ctx.fillStyle = "rgba(0,0,255,1)";
                ctx.fill();
                ctx.closePath();

                const ctx_cord_x = [130,880,1270,590,900,500,800,1710,180,630,650,150,580,430,1400,1300,1000]; 
                const ctx_cord_y = [30,20,80,140,210,250,300,360,380,40,540,410,650,200,600,500,570];

                if(by>(ctx_cord_y[1]-5) && by<(ctx_cord_y[1]+55) && (bx>=ctx_cord_x[1]) && (bx<=ctx_cord_x[1]+55)){
                    window.alert('R1');
                }


                for(let i = 0;i<17;i++){
                    if(by>(ctx_cord_y[i]-5) && by<(ctx_cord_y[i]+55) && (bx<ctx_cord_x[i]+55) && (bx>=ctx_cord_x[i]-5)){
                        move[0]='stop';
                        i=17;
                    }
                    else{
                        move[0]='left';
                    }
                    if(by>(ctx_cord_y[i]-5) && by<(ctx_cord_y[i]+55) && (bx>=ctx_cord_x[i]) && (bx<=ctx_cord_x[i]+55)){
                        move[1]='stop';
                        i=17;
                    }
                    else{
                        move[1]='right';
                    }

                }
                /*
                for(let obj; obj < 17; obj++){
                    
                }*/

                /*if((by>25 && by < 85 && bx<=190 && bx>=130) || (by>15 && by < 75 && bx<=940 && bx>=880) || (by>75 && by < 135 && bx<=1330 && bx>=1265) || (by>135 && by < 200 && bx>=585 && bx<=650) || (by>205 && by < 265 && bx<=960 && bx>=895) || (by>495 && by<555 && bx<=310 && bx<=245)){
                    move[0] = 'block';
                }
                else{
                    move[0] = 'left';
                }*/


                //for(let obj; obj < 17; obj++){
                //}
            }
        }


        document.addEventListener('keydown', (event) => {
            const keyName = event.key;
            
            if((keyName == 'ArrowLeft') && (bx>10) && (move[0] == 'left')){
                bx -= 10;
                draw();
            }
            if((keyName == 'ArrowRight') && (bx<window.innerWidth-30) && (move[1] == 'right')){
                bx += 10;
                draw();
            }
            if((keyName == 'ArrowUp') && (by>10)){
                by -= 10;
                draw();
            }
            if((keyName == 'ArrowDown') && (by<window.innerHeight-30)){
                by += 10;
                draw();
            }
            if((keyName == 'Enter')){
                window.alert('X:'+bx+'Y:'+by);
            }

          });
          

    </script>

</body>